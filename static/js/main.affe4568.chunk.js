(this.webpackJsonptot=this.webpackJsonptot||[]).push([[0],{34:function(e,t,a){e.exports=a(45)},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),l=a.n(s),o=a(11),c=a(7),u=(a(42),a(5)),m=a(1),i=a(22),d=function(e){var t=e.title,a=e.agreement,n="\u0421\u041e\u0417\u0414\u0410\u0422\u042c \u041f\u0420\u041e\u0424\u0418\u041b\u042c"!==t||a?"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full sm:w-auto":"bg-blue-500 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed w-full sm:w-auto";return r.a.createElement("div",{className:"flex items-center justify-center py-4"},r.a.createElement("button",{className:n,type:"submit",disabled:"\u0421\u041e\u0417\u0414\u0410\u0422\u042c \u041f\u0420\u041e\u0424\u0418\u041b\u042c"===t&&!a},t))},g=function(){var e=Object(m.g)(),t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],l=a[1],o=Object(i.a)({initialValues:{username:"",password:""},onSubmit:function(t){atob(localStorage.getItem("testUser"))===t.username&&atob(localStorage.getItem("testPwd"))===t.password||atob(localStorage.getItem("User"))===t.username&&atob(localStorage.getItem("Password"))===t.password?(sessionStorage.setItem("Auth",!0),e.push("/"),e.go()):l("\u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}});return r.a.createElement("div",{className:"grid grid-cols-1 grid-rows-1 md:grid-cols-3 md:grid-rows-3 w-screen h-screen"},r.a.createElement("div",{className:"w-full h-full col-start-1 lg:col-start-2 row-start-1 lg:row-start-2"},r.a.createElement("header",{className:"text-blue-500 text-sm font-bold p-4 text-right"},r.a.createElement(c.b,{to:"/signup",className:"px-4"},"\u0421\u041e\u0417\u0414\u0410\u0422\u042c \u041f\u0420\u041e\u0424\u0418\u041b\u042c")),r.a.createElement("h1",{className:"text-xl font-bold px-8"},"\u0412\u0445\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("form",{className:"bg-white rounded px-8 pt-6 pb-8 mb-4 h-1/9",onSubmit:o.handleSubmit},r.a.createElement("div",{className:"mb-4"},r.a.createElement("input",{id:"username",type:"email",name:"username",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email \u0430\u0434\u0440\u0435\u0441",autoComplete:"username",onChange:o.handleChange,value:o.values.username,className:"appearance-none bg-transparent border-b-2 border-blue-500 w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none lowercase"})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"current-password",onChange:o.handleChange,value:o.values.password,className:"appearance-none bg-transparent border-b-2 border-blue-500 w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none"})),s&&r.a.createElement("div",{className:"text-red-600 text-center"},s),r.a.createElement(d,{title:"\u0412\u041e\u0419\u0422\u0418"}))))},b=function(){var e=Object(m.g)(),t=Object(i.a)({initialValues:{username:"",password:""},onSubmit:function(t){localStorage.setItem("User",btoa(t.username)),localStorage.setItem("Password",btoa(t.password)),e.push("/signin")}});return r.a.createElement("div",{className:"grid grid-cols-1 grid-rows-1 md:grid-cols-3 md:grid-rows-3 w-screen h-screen"},r.a.createElement("div",{className:"w-full h-full col-start-1 lg:col-start-2 row-start-1 lg:row-start-2"},r.a.createElement("header",{className:"text-blue-500 text-sm font-bold p-4 text-right"},r.a.createElement(c.b,{to:"/signin",className:"px-4"},"\u0412\u041e\u0419\u0422\u0418")),r.a.createElement("h1",{className:"text-xl font-bold px-8"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("form",{className:"bg-white rounded px-8 pt-6 pb-8 mb-4 h-1/9",onSubmit:t.handleSubmit},r.a.createElement("div",{className:"mb-4"},r.a.createElement("input",{id:"username",type:"email",name:"username",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email \u0430\u0434\u0440\u0435\u0441",autoComplete:"username",onChange:t.handleChange,value:t.values.username,className:"appearance-none bg-transparent border-b-2 border-blue-500 w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none lowercase"})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"current-password",onChange:t.handleChange,value:t.values.password,className:"appearance-none bg-transparent border-b-2 border-blue-500 w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none"})),r.a.createElement(d,{title:"\u0421\u041e\u0417\u0414\u0410\u0422\u042c"}))))},p=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/signin",component:g}),r.a.createElement(m.b,{exact:!0,path:"/signup",component:b}),r.a.createElement(m.b,{exact:!0,path:"*"},r.a.createElement(m.a,{to:"/signin"})))},E=function(e){var t=e.cb,a=e.initMessage,s=Object(n.useState)(""),l=Object(u.a)(s,2),o=l[0],c=l[1];Object(n.useEffect)((function(){a.message&&c(a.message)}),[a]);var m=function(){t(o,a.id),c("")};return r.a.createElement("div",{className:"p-4 w-full border-blue-300 border-width-2 flex gap-1"},r.a.createElement("input",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",value:o,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key&&m()}(e)}}),r.a.createElement("button",{type:"button",onClick:m,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))},f=a(29),h=function(e){var t=e.user,a=e.message,n=e.setMessage,s=e.dispatch,l=e.deleteWorkMessage,o=e.deleteFloodMessage;return r.a.createElement("div",{className:"w-full",key:a.id},r.a.createElement("div",{className:t!==a.username?"bg-gray-300 w-3/4 mx-4 my-2 p-2 rounded-lg":"bg-green-300 float-right w-3/4 mx-4 my-2 p-2 rounded-lg clearfix"},r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"grid justify-items-start"},r.a.createElement("label",{className:"flex justify-center items-center text-gray-800 font-bold"},a.username),r.a.createElement("span",{className:"flex justify-center text-gray-800 items-center"},a.message)),t===a.username&&r.a.createElement("div",{className:"flex justify-end gap-4"},r.a.createElement("button",{type:"button",onClick:function(){return n({id:a.id,message:a.message})}},r.a.createElement(f.b,null)),r.a.createElement("button",{type:"button",onClick:function(){return s(l?l(a.id):o(a.id))}},r.a.createElement(f.a,null))))))},w=function(e){return{type:"DELETE_WORK_MESSAGE",id:e}},x=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.work})),a=Object(n.useState)({}),s=Object(u.a)(a,2),l=s[0],c=s[1],m=atob(localStorage.getItem("User"));return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{id:"messages",className:"mb-auto overflow-y-auto"},t.length?t.sort((function(e,t){return e.id-t.id})).map((function(t){return r.a.createElement(h,{key:t.id,user:m,message:t,setMessage:c,dispatch:e,deleteWorkMessage:w})})):null),r.a.createElement("div",{className:"w-full flex bg-blue-100"},r.a.createElement(E,{cb:function(t,a){return e(a?function(e,t,a){return{type:"GET_EXIST_MESSAGE",message:e,username:t,id:a}}(t,m,a):function(e,t){return{type:"NEW_WORK_MESSAGE",message:e,username:t}}(t,m))},initMessage:l})))},y=function(e){return{type:"DELETE_FLOOD_MESSAGE",id:e}},v=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.flood})),a=Object(n.useState)({}),s=Object(u.a)(a,2),l=s[0],c=s[1],m=atob(localStorage.getItem("User"));return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{id:"messages",className:"mb-auto overflow-y-auto"},t.length?t.sort((function(e,t){return e.id-t.id})).map((function(t){return r.a.createElement(h,{key:t.id,user:m,message:t,setMessage:c,dispatch:e,deleteWorkMessage:y})})):null),r.a.createElement("div",{className:"w-full flex bg-blue-100"},r.a.createElement(E,{cb:function(t,a){return e(a?function(e,t,a){return{type:"EDIT_FLOOD_MESSAGE",message:e,username:t,id:a}}(t,m,a):function(e,t){return{type:"NEW_FLOOD_MESSAGE",message:e,username:t}}(t,m))},initMessage:l})))},S=function(){var e=Object(m.g)(),t=Object(n.useState)("\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442"),a=Object(u.a)(t,2),s=a[0],l=a[1];return r.a.createElement("div",{className:"h-screen flex"},r.a.createElement("div",{className:"w-64 bg-blue-200 p-4 rounded-l-lg h-full flex flex-col"},r.a.createElement("span",{className:"font-bold pt-4 pb-8 text-center font-mono text-lg text-gray-800"},"Planktonics"),r.a.createElement(c.b,{to:"/work",className:"bg-white hover:bg-gray-100 text-center text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",onClick:function(){return l("\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442")}},"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442"),r.a.createElement(c.b,{to:"/flood",className:"bg-white hover:bg-gray-100 text-center text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",onClick:function(){return l("\u0424\u043b\u0443\u0434\u0438\u043b\u043a\u0430")}},"\u0424\u043b\u0443\u0434\u0438\u043b\u043a\u0430"),r.a.createElement("button",{type:"button",className:"pt-8",onClick:function(){sessionStorage.removeItem("Auth"),e.push("/"),e.go()}},"\u0412\u044b\u0439\u0442\u0438")),r.a.createElement("div",{className:"w-full flex flex-col h-screen justify-between overflow-hidden text-center"},r.a.createElement("div",{className:"flex w-full h-24 text-xl text-gray-800 font-bold bg-blue-200 p-4 rounded-tr-lg justify-center"},s),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/work",component:x}),r.a.createElement(m.b,{exact:!0,path:"/flood",component:v}),r.a.createElement(m.b,{exact:!0,path:"*"},r.a.createElement(m.a,{to:"/work"})))))};var O=function(){var e=Object(n.useState)(sessionStorage.getItem("Auth")||null),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(n.useRef)(!1);return Object(n.useEffect)((function(){localStorage.setItem("testUser",btoa("testuser@planktonics.ru")),localStorage.setItem("testPwd",btoa("qwerty"))}),[]),Object(n.useEffect)((function(){a&&s(!0),sessionStorage.getItem("Auth")&&(l.current=!0)}),[a]),r.a.createElement(r.a.Fragment,null,l.current?r.a.createElement(S,null):r.a.createElement(p,null))},N=a(14),j=a(12),_=[{id:1,username:"admin",message:"Hi, everyone!"},{id:2,username:"admin",message:"\u043f\u043e\u0444\u043b\u0443\u0434\u0438\u043c?"}],M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_FLOOD_MESSAGE":return[].concat(Object(j.a)(e),[{id:e.sort((function(e,t){return t.id-e.id}))[0].id+1,username:t.username,message:t.message}]);case"EDIT_FLOOD_MESSAGE":return[].concat(Object(j.a)(e.filter((function(e){return e.id!==t.id}))),[{id:t.id,username:t.username,message:t.message}]);case"DELETE_FLOOD_MESSAGE":return Object(j.a)(e.filter((function(e){return e.id!==t.id})));default:return e}},k=[{id:1,username:"admin",message:"Hi, everyone!"},{id:2,username:"admin",message:"\u043f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c?"}],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_WORK_MESSAGE":return[].concat(Object(j.a)(e),[{id:e.sort((function(e,t){return t.id-e.id}))[0].id+1,username:t.username,message:t.message}]);case"GET_EXIST_MESSAGE":return[].concat(Object(j.a)(e.filter((function(e){return e.id!==t.id}))),[{id:t.id,username:t.username,message:t.message}]);case"DELETE_WORK_MESSAGE":return Object(j.a)(e.filter((function(e){return e.id!==t.id})));default:return e}},C=Object(N.b)({flood:M,work:I}),D=Object(N.c)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(c.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:D},r.a.createElement(O,null)))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.affe4568.chunk.js.map